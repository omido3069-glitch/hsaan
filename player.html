<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø´ØºÙ„ Ø§Ù„ØªÙ„Ø§ÙˆØ§Øª</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{
      font-family:'Cairo',sans-serif;
      background:linear-gradient(135deg,#eafaf1,#fef9e7);
      display:flex;flex-direction:column;
      align-items:center;justify-content:center;
      min-height:100vh;margin:0;
    }
    .player{
      background:#fff;
      border-radius:18px;
      padding:25px 20px;
      box-shadow:0 10px 25px rgba(0,0,0,.15);
      width:330px;text-align:center;
      position:relative;
    }
    .moon{
      font-size:28px;
      color:#00b894;
      position:absolute;
      top:-15px;right:-15px;
      background:#fff;
      padding:10px;
      border-radius:50%;
      box-shadow:0 4px 10px rgba(0,0,0,.2);
    }
    .player h3{
      margin:15px 0;
      font-size:19px;
      color:#222;
    }
    .controls{
      display:flex;justify-content:center;align-items:center;
      gap:20px;margin-top:15px;
    }
    button{
      background:#00b894;color:#fff;
      border:none;border-radius:50%;
      width:55px;height:55px;
      font-size:20px;cursor:pointer;
      transition:.3s;
    }
    button:hover{background:#019870}
    input[type="range"]{
      width:100%;margin-top:15px;
      accent-color:#00b894;
    }
    .time{
      display:flex;justify-content:space-between;
      font-size:13px;color:#555;margin-top:6px;
    }
    select{
      margin-top:15px;width:100%;
      padding:8px;border-radius:10px;
      border:1px solid #ccc;font-size:14px;
    }
  </style>
</head>
<body>

  <div class="player">
    <div class="moon">ğŸŒ™</div>
    <h3 id="title">Ø§Ø®ØªØ± Ø§Ù„ØªÙ„Ø§ÙˆØ©</h3>
    <audio id="audio"></audio>
    <input type="range" id="progress" value="0">
    <div class="time">
      <span id="current">0:00</span>
      <span id="duration">0:00</span>
    </div>

    <div class="controls">
      <button id="prev">â®ï¸</button>
      <button id="play">â–¶ï¸</button>
      <button id="next">â­ï¸</button>
    </div>

    <select id="playlist">
      <option value="">-- Ø§Ø®ØªØ± ØªÙ„Ø§ÙˆØ© --</option>
      <option value="tilawat1.mp3">Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</option>
      <option value="tilawat2.mp3">Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù</option>
      <option value="tilawat3.mp3">Ø³ÙˆØ±Ø© ÙŠØ³</option>
    </select>
  </div>

  <script>
    const audio=document.getElementById('audio');
    const playBtn=document.getElementById('play');
    const prevBtn=document.getElementById('prev');
    const nextBtn=document.getElementById('next');
    const progress=document.getElementById('progress');
    const current=document.getElementById('current');
    const duration=document.getElementById('duration');
    const title=document.getElementById('title');
    const playlist=document.getElementById('playlist');

    let tracks=[
      {title:"Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©",src:"tilawat1.mp3"},
      {title:"Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù",src:"tilawat2.mp3"},
      {title:"Ø³ÙˆØ±Ø© ÙŠØ³",src:"tilawat3.mp3"},
    ];
    let index=0;

    function loadTrack(i){
      audio.src=tracks[i].src;
      title.textContent=tracks[i].title;
      audio.load();
    }

    function playTrack(){
      audio.play();
      playBtn.textContent="â¸ï¸";
    }

    function pauseTrack(){
      audio.pause();
      playBtn.textContent="â–¶ï¸";
    }

    playBtn.addEventListener('click',()=>{
      audio.paused?playTrack():pauseTrack();
    });

    prevBtn.addEventListener('click',()=>{
      index=(index-1+tracks.length)%tracks.length;
      loadTrack(index);playTrack();
    });

    nextBtn.addEventListener('click',()=>{
      index=(index+1)%tracks.length;
      loadTrack(index);playTrack();
    });

    audio.addEventListener('timeupdate',()=>{
      progress.value=(audio.currentTime/audio.duration)*100||0;
      current.textContent=formatTime(audio.currentTime);
      duration.textContent=isNaN(audio.duration)? "0:00":formatTime(audio.duration);
    });

    progress.addEventListener('input',()=>{
      audio.currentTime=(progress.value/100)*audio.duration;
    });

    function formatTime(sec){
      let m=Math.floor(sec/60);
      let s=Math.floor(sec%60);
      return `${m}:${s<10?"0":""}${s}`;
    }

    playlist.addEventListener('change',()=>{
      let file=playlist.value;
      if(file){
        let selected=tracks.find(t=>t.src===file);
        index=tracks.indexOf(selected);
        loadTrack(index);playTrack();
      }
    });

    // ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ ØªØ±Ø§Ùƒ
    loadTrack(index);
  </script>

</body>
</html>
